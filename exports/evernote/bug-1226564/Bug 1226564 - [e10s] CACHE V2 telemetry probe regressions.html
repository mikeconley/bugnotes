<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.7.1 (453574)"/><meta name="keywords" content="Needs export, perf"/><meta name="author" content="mconley@mozilla.com"/><meta name="created" content="2016-03-08 21:21:51 +0000"/><meta name="source" content="desktop.mac"/><meta name="source-url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564"/><meta name="updated" content="2016-04-04 19:57:33 +0000"/><title>Bug 1226564 - [e10s] CACHE V2 telemetry probe regressions</title></head><body>
<div>
<div style="color: rgb(51, 51, 51); padding: 2px 15px 2px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: rgb(192, 219, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(96, 0, 0); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:23:41 PM">4:23 PM</span></span><span style="white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style="white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700; white-space: nowrap;">chutten</a><span style="white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> mconley: billm: are you taking my analysis in vain? They haven't yet been reviewed...</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:23:55 PM">4:23 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: heya</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:24:19 PM">4:24 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: I’ve just been tasked with driving that bug forward</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:24:27 PM">4:24 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: to make sure we understand what’s going on here</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:24:42 PM">4:24 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: because a regression in network requests is no bueno</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:25:19 PM">4:25 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: the subtests you looked at look positive though - like, assuming “lower is better”, e10s appears to perform better there</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:25:25 PM">4:25 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: am I interpreting that correctly?</div>
<div style="color: rgb(51, 51, 51); padding: 2px 15px 2px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: rgb(192, 219, 255); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(96, 0, 0); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:25:46 PM">4:25 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700; white-space: nowrap;">chutten</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> mconley: Yes, but don't treat them as official. Still need an r+, and for that I need a cluster that can access parquet</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:25:57 PM">4:25 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> gotcha</div>
<div style="padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: rgb(175, 175, 175); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:26:07 PM">4:26 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style="color: rgb(34, 34, 34);">⇐</span> <a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/LA-MJ" title="LA-MJ (kvirc@moz-2s60tn.static.zebra.lt)" style="color: rgb(119, 119, 119); text-decoration: none;">LA-MJ</a> quit (<a href="mailto:kvirc@moz-2s60tn.static.zebra.lt">kvirc@moz-2s60tn.static.zebra.lt</a>) Ping timeout: 121 seconds</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:26:16 PM">4:26 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> chutten: let’s assume that you confirm your analysis and get r+. What does that mean for the bug?</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<div><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:26:45 PM">4:26 PM</span></span><span style="left: -999px; top: -999px;"> </span><span style="left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700;">mconley</a><span style="left: -999px; top: -999px;">&gt;</span> does this mean e10s does not regress the CACHE V2 probes? Or only regress some of them?</div>
</div>
<div style="color: rgb(51, 51, 51); background-color: rgb(226, 237, 255); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:26:48 PM">4:26 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/mconley" title="mconley (sid32@moz-7kf488.0j4i.jtu0.0101.2620.IP)" style="color: rgb(34, 34, 34); text-decoration: none; font-weight: 700; white-space: nowrap;">mconley</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> Or something else entirely?</div>
<div style="color: rgb(51, 51, 51); padding: 1px 15px 1px 65px; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:27:06 PM">4:27 PM</span></span><span style="left: -999px; top: -999px;"> </span><span style="left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700;">chutten</a><span style="left: -999px; top: -999px;">&gt;</span> It regresses the startup cache v2 probes</div>
</div>
<div>
<div style="color: rgb(51, 51, 51); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:27:31 PM">4:27 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700; white-space: nowrap;">chutten</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> This might be due to different meanings of what "startup" means between e10s and non e10s, and it may also be that the probes are just bunk...</div>
<div style="color: rgb(51, 51, 51); padding: 1px 15px 1px 65px; white-space: pre-wrap; word-wrap: break-word; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:27:51 PM">4:27 PM</span></span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;"> </span><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700; white-space: nowrap;">chutten</a><span style=" white-space: pre-wrap; word-wrap: break-word; left: -999px; top: -999px;">&gt;</span> ...or any of the other reasons outlined in the bug.</div>
<div style="color: rgb(51, 51, 51); padding: 1px 15px 1px 65px; overflow: hidden; font-size: 14px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 11px; color: rgb(170, 170, 170); text-align: center; vertical-align: top;"><span title="Tuesday, March 08, 2016 4:28:13 PM">4:28 PM</span></span><span style="left: -999px; top: -999px;"> </span><span style="left: -999px; top: -999px;">&lt;</span><a href="https://irccloud.mozilla.com/#!/ircs://irc1.dmz.scl3.mozilla.com:6697/chutten" title="chutten (sid582@moz-67vbr4.0j4i.jtu0.0101.2620.IP)" style="color: rgb(29, 64, 255); text-decoration: none; font-weight: 700;">chutten</a><span style="left: -999px; top: -999px;">&gt;</span> But, yes. If necko says that the only ones to watch are the ones in that review, then e10s is looking Vehry Naice.</div>
</div>
<div><br/></div>
<div><br/></div>
<div>Here are the list of probes with their descriptions:</div>
<div><br/></div>
<div><b><br/></b></div>
<div><b>STARTUP_HTTP_CACHE_DISPOSITION_2_V2</b></div>
<div><b><br/></b></div>
<div>From mayhemer in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564#c16">Comment 16</a>:</div>
<div>
<div>"My theory is that the breakpoint we stop measuring STARTUP_ and do "normal" capturing is simply in different time on e10s vs non-e10s.  It's happening sooner with e10s or less number of requests is happening before that point in e10s.  At the start we do OCSP requests that are simply not cached.  If there is more rate of OCSPs against normal requests it will show up as a regression.<br/>
<br/>
I would ignore the regression here."<br/>
<br/></div>
</div>
<div><b><br/></b></div>
<div>
<hr/></div>
<div><b>STARTUP_NETWORK_CACHE_V2_HIT_TIME_MS</b></div>
<div><b>STARTUP_NETWORK_CACHE_METADATA_FIRST_READ_TIME_MS</b></div>
<div><b><br/></b></div>
<div>From mayhemer in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564#c16">Comment 16</a>:</div>
<div>"These are more a mystery for me.  Captured only on the parent process, no IPC overhead can cause this.</div>
<div><br/>
It might be that we do more I/O with e10s on startup.  Also can be the same cause as for STARTUP_HTTP_CACHE_DISPOSITION_2_V2.  Simply the time span used for "STARTUP_" capture is different (longer in non-e10s or we do less HTTP requests in e10s).  For longer intervals OS preloading may intervene or theoretically entries may be loaded/purged/reused during a longer startup span and that would greatly improve these probes thanks system caching.<br/>
<br/>
<br/>
Do we have probes for how many measurements, or HTTP requests directly, we do during the "STARTUP" phase?"<br/></div>
<div><b><br/></b></div>
<div><b><br/></b></div>
<div>
<hr/></div>
<div><b><br/></b></div>
<div><b>HTTP_PAGE_OPEN_TO_FIRST_FROM_CACHE_V2</b></div>
<div><b>HTTP_PAGE_COMPLETE_LOAD_CACHED_V2</b></div>
<div><b>HTTP_SUB_COMPLETE_LOAD_CACHED_V2</b></div>
<div><b>HTTP_SUB_OPEN_TO_FIRST_FROM_CACHE_V2</b></div>
<div><b><br/></b></div>
<div>From mayhemer in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564#c16">Comment 16</a>:</div>
<div>"I'm afraid we don't correctly carry the "cached" timing values to the child.  What we are getting captured here are just few requests made on the parent like <a href="https://self-repair.mozilla.org/en-US/repair/">https://self-repair.mozilla.org/en-US/repair/</a> and similar.<br/>
<br/>
I think this bug makes the most important probes useless.  Filed <a title="RESOLVED FIXED - Not all timing data are carried to the child process" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1253379">bug 1253379</a> on it."</div>
<div><br/></div>
<div><br/></div>
<div>
<hr/></div>
<div><br/></div>
<div><b>HTTP_PAGE_COMPLETE_LOAD_NET_V2</b></div>
<div><b>HTTP_SUB_COMPLETE_LOAD_NET_V2</b></div>
<div><br/></div>
<div>From mayhemer in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564#c16">Comment 16</a>:</div>
<div>"Can we check also HTTP_*_COMPLETE_LOAD_NET_V2 probe for regressions?"</div>
<div><br/></div>
<div><a href="https://github.com/chutten/e10s_analyses/blob/0d7a789a673f9c825389263764175d502191d9f8/beta45-withoutaddons/e10s_experiment.ipynb"/><a href="https://github.com/chutten/e10s_analyses/blob/0d7a789a673f9c825389263764175d502191d9f8/beta45-withoutaddons/e10s_experiment.ipynb">https://github.com/chutten/e10s_analyses/blob/0d7a789a673f9c825389263764175d502191d9f8/beta45-withoutaddons/e10s_experiment.ipynb</a></div>
<div><br/></div>
<div>e10s looks better here, assuming lower is better.</div>
<div><br/></div>
<div><img src="Bug%201226564%20-%20%5Be10s%5D%20CACHE%20V2%20telemetry%20probe%20regressions.resources/52C27781-D8B4-4980-8205-9BACE4559767.png" height="455" width="942"/></div>
<div><img src="Bug%201226564%20-%20%5Be10s%5D%20CACHE%20V2%20telemetry%20probe%20regressions.resources/54D383B6-CF93-44A5-8E6F-9969EC3C5C01.png" height="455" width="942"/></div>
<div><br/></div>
<div>So now I’m looking at:</div>
<div>
<div><b>STARTUP_NETWORK_CACHE_V2_HIT_TIME_MS</b></div>
<div><b>STARTUP_NETWORK_CACHE_METADATA_FIRST_READ_TIME_MS</b></div>
<div><b><br/></b></div>
<div>From mayhemer in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1226564#c16">Comment 16</a>:</div>
<div>"These are more a mystery for me.  Captured only on the parent process, no IPC overhead can cause this.</div>
</div>
<div><br/>
It might be that we do more I/O with e10s on startup.  Also can be the same cause as for STARTUP_HTTP_CACHE_DISPOSITION_2_V2.  Simply the time span used for "STARTUP_" capture is different (longer in non-e10s or we do less HTTP requests in e10s).  For longer intervals OS preloading may intervene or theoretically entries may be loaded/purged/reused during a longer startup span and that would greatly improve these probes thanks system caching.<br/>
<br/></div>
<div>That capture occurs here: <a href="http://searchfox.org/mozilla-central/source/toolkit/components/telemetry/TelemetrySession.jsm#1846"/><a href="http://searchfox.org/mozilla-central/source/toolkit/components/telemetry/TelemetrySession.jsm#1846">http://searchfox.org/mozilla-central/source/toolkit/components/telemetry/TelemetrySession.jsm#1846</a></div>
<div><br/></div>
<div><img src="Bug%201226564%20-%20%5Be10s%5D%20CACHE%20V2%20telemetry%20probe%20regressions.resources/667A3984-79A0-422A-B32F-C6D2F98FB2A3.png" height="455" width="955"/></div>
<div><img src="Bug%201226564%20-%20%5Be10s%5D%20CACHE%20V2%20telemetry%20probe%20regressions.resources/F998D067-5563-4D91-8C58-F78CA1E18348.png" height="455" width="955"/></div>
<div>Note the discrepancy in the number of samples for e10s in both cases.  There are like… 1/4 of the samples for e10s than with non-e10s. Why?</div>
<div><br/></div>
<div>What kind of network requests can go out before the sessionstore-windows-restored notification is fired?</div>
<div><br/></div>
<div>
<div>So mayhemer's theory here is that STARTUP_NETWORK_CACHE_V2_HIT_TIME_MS and STARTUP_NETWORK_CACHE_METADATA_FIRST_READ_TIME_MS seem worse due to the fact that the parent is doing fewer network requests up until the sessionstore-windows-restored observer notification is fired (this is what is used to snapshot the histograms and prefix with STARTUP_ at <a href="http://dxr.mozilla.org/mozilla-central/source/toolkit/components/telemetry/TelemetrySession.jsm#1846">http://dxr.mozilla.org/mozilla-central/source/toolkit/components/telemetry/TelemetrySession.jsm#1846</a>).<br/>
<br/>
The idea here is that the reads off of the disk for the cache become faster as more lookups occur because the OS is optimizing for the disk accesses. This means that the more requests there are, the more accesses will report as cheap.<br/>
<br/>
The idea that there are fewer requests is bolstered by the fact that there are fewer samples for these two probes in the e10s case. It's roughly 25% of the samples gathered for the e10s case.<br/>
<br/>
It seems to be more rare for there to be any histograms captured for either of these probes with e10s enabled than with non-e10s. In fact, in the e10s case on my Windows machine, I can only get the probes to appear if the OS has just started up (so the file access optimizations from the OS haven't been invoked yet).<br/>
<br/>
So that's my explanation for the shape of the curve here for those two probes. I'm not sure there's much else to do here. I'm closing this one out.<br/></div>
</div>
</body></html>